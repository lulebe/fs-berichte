{% extends "app/appbase.twig" %}

{% block title %}AGs{% endblock %}

{% block content %}
  <div class="title-2-col">
    <h1>Arbeitsgruppenberichte</h1>
  </div>
  <div class="wrapper-2-col right-over">
  {% if canView %}
    <div class="grid-col left">
      <ul class="striped">
        {% for result in results %}
          <li><a href="research/{{result.id}}" class="main-text">{{result.dateReadable}} - <strong>{{result.subject}}</strong>: {{result.head}} & {{result.supervisor}}</a></li>
        {% endfor %}
      </ul>
    </div>
    <div class="grid-col right">
      <div class="card">
        <h2>Suche</h2>
        <form method="GET">
          <div class="inputlabel">
            <label>Fachrichtung</label>
            <input type="text" name="subject" placeholder="z.B. Neurophysiologie" minlength="3" {% if query.subject %}value="{{query.subject}}"{% endif %}>
          </div><br>
          <div class="inputlabel">
            <label>Doktorvater/-mutter</label>
            <input type="text" name="head" placeholder="z.B. Joachim Kirsch" minlength="3" {% if query.head %}value="{{query.head}}"{% endif %}>
          </div><br>
          <div class="inputlabel">
            <label>Betreuer:in</label>
            <input type="text" name="supervisor" placeholder="z.B. Tom Müller" minlength="3" {% if query.supervisor %}value="{{query.supervisor}}"{% endif %}>
          </div><br>
          <button type="submit" class="important iconbtn"><i class="material-icons">search</i> suchen</button>
        </form>
      </div>
    </div>
    {% else %}
    Die Arbeitsgruppenberichte sind noch nicht öffentlich. Du kannst uns jedoch gerne helfen, die Datenbank zu befüllen, indem du einen Bericht verfasst!
    {% endif %}
  </div>
{% endblock %}

{% block js %}
{% endblock %}